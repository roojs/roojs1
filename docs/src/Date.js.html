<html><head><title>Date.js</title><link rel="stylesheet" type="text/css" href="../../css/highlight-js.css"/></head><body class="highlightpage"><code class="jsdoc-pretty"><span class="jsdoc-comment">/*
 * Based on:
 * Ext JS Library 1.1.1
 * Copyright(c) 2006-2007, Ext JS, LLC.
 *
 * Originally Released Under LGPL - original licence link has changed is not relivant.
 *
 * Fork - LGPL
 * &lt;script type=&quot;text/javascript&quot;&gt;
 */

/**
 * @class Date
 *
 * The date parsing and format syntax is a subset of
 * &lt;a href=&quot;http://www.php.net/date&quot;&gt;PHP's date() function&lt;/a&gt;, and the formats that are
 * supported will provide results equivalent to their PHP versions.
 *
 * Following is the list of all currently supported formats:
 *&lt;pre&gt;
Sample date:
'Wed Jan 10 2007 15:05:01 GMT-0600 (Central Standard Time)'

Format  Output      Description
------  ----------  --------------------------------------------------------------
  d      10         Day of the month, 2 digits with leading zeros
  D      Wed        A textual representation of a day, three letters
  j      10         Day of the month without leading zeros
  l      Wednesday  A full textual representation of the day of the week
  S      th         English ordinal day of month suffix, 2 chars (use with j)
  w      3          Numeric representation of the day of the week
  z      9          The julian date, or day of the year (0-365)
  W      01         ISO-8601 2-digit week number of year, weeks starting on Monday (00-52)
  F      January    A full textual representation of the month
  m      01         Numeric representation of a month, with leading zeros
  M      Jan        Month name abbreviation, three letters
  n      1          Numeric representation of a month, without leading zeros
  t      31         Number of days in the given month
  L      0          Whether it's a leap year (1 if it is a leap year, else 0)
  Y      2007       A full numeric representation of a year, 4 digits
  y      07         A two digit representation of a year
  a      pm         Lowercase Ante meridiem and Post meridiem
  A      PM         Uppercase Ante meridiem and Post meridiem
  g      3          12-hour format of an hour without leading zeros
  G      15         24-hour format of an hour without leading zeros
  h      03         12-hour format of an hour with leading zeros
  H      15         24-hour format of an hour with leading zeros
  i      05         Minutes with leading zeros
  s      01         Seconds, with leading zeros
  O      -0600      Difference to Greenwich time (GMT) in hours (Allows +08, without minutes)
  P      -06:00     Difference to Greenwich time (GMT) with colon between hours and minutes
  T      CST        Timezone setting of the machine running the code
  Z      -21600     Timezone offset in seconds (negative if west of UTC, positive if east)
&lt;/pre&gt;
 *
 * Example usage (note that you must escape format specifiers with '\\' to render them as character literals):
 * &lt;pre&gt;&lt;code&gt;
var dt = new Date('1/10/2007 03:05:01 PM GMT-0600');
document.write(dt.format('Y-m-d'));                         //2007-01-10
document.write(dt.format('F j, Y, g:i a'));                 //January 10, 2007, 3:05 pm
document.write(dt.format('l, \\t\\he dS of F Y h:i:s A'));  //Wednesday, the 10th of January 2007 03:05:01 PM
 &lt;/code&gt;&lt;/pre&gt;
 *
 * Here are some standard date/time patterns that you might find helpful.  They
 * are not part of the source of Date.js, but to use them you can simply copy this
 * block of code into any script that is included after Date.js and they will also become
 * globally available on the Date object.  Feel free to add or remove patterns as needed in your code.
 * &lt;pre&gt;&lt;code&gt;
Date.patterns = {
    ISO8601Long:&quot;Y-m-d H:i:s&quot;,
    ISO8601Short:&quot;Y-m-d&quot;,
    ShortDate: &quot;n/j/Y&quot;,
    LongDate: &quot;l, F d, Y&quot;,
    FullDateTime: &quot;l, F d, Y g:i:s A&quot;,
    MonthDay: &quot;F d&quot;,
    ShortTime: &quot;g:i A&quot;,
    LongTime: &quot;g:i:s A&quot;,
    SortableDateTime: &quot;Y-m-d\\TH:i:s&quot;,
    UniversalSortableDateTime: &quot;Y-m-d H:i:sO&quot;,
    YearMonth: &quot;F, Y&quot;
};
&lt;/code&gt;&lt;/pre&gt;
 *
 * Example usage:
 * &lt;pre&gt;&lt;code&gt;
var dt = new Date();
document.write(dt.format(Date.patterns.ShortDate));
 &lt;/code&gt;&lt;/pre&gt;
 */

/*
 * Most of the date-formatting functions below are the excellent work of Baron Schwartz.
 * They generate precompiled functions from date formats instead of parsing and
 * processing the pattern every time you format a date.  These functions are available
 * on every Date object (any javascript function).
 *
 * The original article and download are here:
 * http://www.xaprb.com/blog/2005/12/12/javascript-closures-for-runtime-efficiency/
 *
 */


 // was in core
/**
 Returns the number of milliseconds between this date and date
 @param {Date} date (optional) Defaults to now
 @param {String} interval (optional) Default Date.MILLI, A valid date interval enum value (eg. Date.DAY) 
 @return {Number} The diff in milliseconds or units of interval
 @member Date getElapsed
 */
</span><span class="jsdoc-var">Date.prototype.getElapsed </span><span class="jsdoc-syntax">= </span><span class="jsdoc-keyword">function</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">date</span><span class="jsdoc-syntax">, </span><span class="jsdoc-var">interval</span><span class="jsdoc-syntax">)
{
    </span><span class="jsdoc-var">date </span><span class="jsdoc-syntax">= </span><span class="jsdoc-var">date </span><span class="jsdoc-syntax">||  </span><span class="jsdoc-keyword">new </span><span class="jsdoc-var">Date</span><span class="jsdoc-syntax">();
    </span><span class="jsdoc-keyword">var </span><span class="jsdoc-var">ret </span><span class="jsdoc-syntax">= </span><span class="jsdoc-var">Math.abs</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">date.getTime</span><span class="jsdoc-syntax">()-</span><span class="jsdoc-var">this.getTime</span><span class="jsdoc-syntax">());
    </span><span class="jsdoc-keyword">switch </span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">interval</span><span class="jsdoc-syntax">) {

        </span><span class="jsdoc-keyword">case  </span><span class="jsdoc-var">Date.SECOND</span><span class="jsdoc-syntax">:
            </span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">Math.floor</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">ret </span><span class="jsdoc-syntax">/ (1000));
        </span><span class="jsdoc-keyword">case  </span><span class="jsdoc-var">Date.MINUTE</span><span class="jsdoc-syntax">:
            </span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">Math.floor</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">ret </span><span class="jsdoc-syntax">/ (1000*60));
        </span><span class="jsdoc-keyword">case  </span><span class="jsdoc-var">Date.HOUR</span><span class="jsdoc-syntax">:
            </span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">Math.floor</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">ret </span><span class="jsdoc-syntax">/ (1000*60*60));
        </span><span class="jsdoc-keyword">case  </span><span class="jsdoc-var">Date.DAY</span><span class="jsdoc-syntax">:
            </span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">Math.floor</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">ret </span><span class="jsdoc-syntax">/ (1000*60*60*24));
        </span><span class="jsdoc-keyword">case  </span><span class="jsdoc-var">Date.MONTH</span><span class="jsdoc-syntax">: </span><span class="jsdoc-comment">// this does not give exact number...??
            </span><span class="jsdoc-keyword">return </span><span class="jsdoc-syntax">((</span><span class="jsdoc-var">date.format</span><span class="jsdoc-syntax">(</span><span class="jsdoc-string">&quot;Y&quot;</span><span class="jsdoc-syntax">) - </span><span class="jsdoc-var">this.format</span><span class="jsdoc-syntax">(</span><span class="jsdoc-string">&quot;Y&quot;</span><span class="jsdoc-syntax">)) * 12) + (</span><span class="jsdoc-var">date.format</span><span class="jsdoc-syntax">(</span><span class="jsdoc-string">&quot;m&quot;</span><span class="jsdoc-syntax">) - </span><span class="jsdoc-var">this.format</span><span class="jsdoc-syntax">(</span><span class="jsdoc-string">&quot;m&quot;</span><span class="jsdoc-syntax">));
        </span><span class="jsdoc-keyword">case  </span><span class="jsdoc-var">Date.YEAR</span><span class="jsdoc-syntax">: </span><span class="jsdoc-comment">// this does not give exact number...??
            </span><span class="jsdoc-keyword">return </span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">date.format</span><span class="jsdoc-syntax">(</span><span class="jsdoc-string">&quot;Y&quot;</span><span class="jsdoc-syntax">) - </span><span class="jsdoc-var">this.format</span><span class="jsdoc-syntax">(</span><span class="jsdoc-string">&quot;Y&quot;</span><span class="jsdoc-syntax">));

        </span><span class="jsdoc-keyword">case  </span><span class="jsdoc-var">Date.MILLI</span><span class="jsdoc-syntax">:
        </span><span class="jsdoc-keyword">default</span><span class="jsdoc-syntax">:
            </span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">ret</span><span class="jsdoc-syntax">;
    }
};

</span><span class="jsdoc-comment">// was in date file..


// private
</span><span class="jsdoc-var">Date.parseFunctions </span><span class="jsdoc-syntax">= {</span><span class="jsdoc-var">count</span><span class="jsdoc-syntax">:0};
</span><span class="jsdoc-comment">// private
</span><span class="jsdoc-var">Date.parseRegexes </span><span class="jsdoc-syntax">= [];
</span><span class="jsdoc-comment">// private
</span><span class="jsdoc-var">Date.formatFunctions </span><span class="jsdoc-syntax">= {</span><span class="jsdoc-var">count</span><span class="jsdoc-syntax">:0};

</span><span class="jsdoc-comment">// private
</span><span class="jsdoc-var">Date.formatParsed </span><span class="jsdoc-syntax">= {}
</span><span class="jsdoc-var">Date.prototype.dateFormat </span><span class="jsdoc-syntax">= </span><span class="jsdoc-keyword">function</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">format</span><span class="jsdoc-syntax">) {
    </span><span class="jsdoc-keyword">if </span><span class="jsdoc-syntax">(</span><span class="jsdoc-keyword">typeof</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">Date.formatParsed</span><span class="jsdoc-syntax">[</span><span class="jsdoc-var">format</span><span class="jsdoc-syntax">])  == </span><span class="jsdoc-string">'undefined'</span><span class="jsdoc-syntax">) {

          </span><span class="jsdoc-comment">//  var funcName = &quot;format&quot; + Date.formatFunctions.count++;
          //Date.formatFunctions[format] = funcName;
          //var code = &quot;Date.prototype.&quot; + funcName + &quot; = function(){return &quot;;
          // generate an array.. 
          </span><span class="jsdoc-keyword">var </span><span class="jsdoc-var">code </span><span class="jsdoc-syntax">= [];
          </span><span class="jsdoc-keyword">var </span><span class="jsdoc-var">special </span><span class="jsdoc-syntax">= </span><span class="jsdoc-keyword">false</span><span class="jsdoc-syntax">;
          </span><span class="jsdoc-keyword">var </span><span class="jsdoc-var">ch </span><span class="jsdoc-syntax">= </span><span class="jsdoc-string">''</span><span class="jsdoc-syntax">;
          </span><span class="jsdoc-keyword">for </span><span class="jsdoc-syntax">(</span><span class="jsdoc-keyword">var </span><span class="jsdoc-var">i </span><span class="jsdoc-syntax">= 0; </span><span class="jsdoc-var">i </span><span class="jsdoc-syntax">&lt; </span><span class="jsdoc-var">format.length</span><span class="jsdoc-syntax">; ++</span><span class="jsdoc-var">i</span><span class="jsdoc-syntax">) {
              </span><span class="jsdoc-var">ch </span><span class="jsdoc-syntax">= </span><span class="jsdoc-var">format.charAt</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">i</span><span class="jsdoc-syntax">);
              </span><span class="jsdoc-keyword">if </span><span class="jsdoc-syntax">(!</span><span class="jsdoc-var">special </span><span class="jsdoc-syntax">&amp;&amp; </span><span class="jsdoc-var">ch </span><span class="jsdoc-syntax">== </span><span class="jsdoc-string">&quot;\\&quot;</span><span class="jsdoc-syntax">) {
                  </span><span class="jsdoc-var">special </span><span class="jsdoc-syntax">= </span><span class="jsdoc-keyword">true</span><span class="jsdoc-syntax">;
              }
              </span><span class="jsdoc-keyword">else if </span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">special</span><span class="jsdoc-syntax">) {
                  </span><span class="jsdoc-var">special </span><span class="jsdoc-syntax">= </span><span class="jsdoc-keyword">false</span><span class="jsdoc-syntax">;
                  </span><span class="jsdoc-var">code.push</span><span class="jsdoc-syntax">([</span><span class="jsdoc-var">String.escape</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">ch</span><span class="jsdoc-syntax">)]);
              }
              </span><span class="jsdoc-keyword">else </span><span class="jsdoc-syntax">{
                  </span><span class="jsdoc-var">code.push</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">ch</span><span class="jsdoc-syntax">);
              }
          }
          </span><span class="jsdoc-var">Date.formatParsed</span><span class="jsdoc-syntax">[</span><span class="jsdoc-var">format</span><span class="jsdoc-syntax">] = </span><span class="jsdoc-var">code</span><span class="jsdoc-syntax">;
    }
    </span><span class="jsdoc-keyword">var </span><span class="jsdoc-var">ret </span><span class="jsdoc-syntax">= </span><span class="jsdoc-string">''</span><span class="jsdoc-syntax">;
    </span><span class="jsdoc-keyword">var </span><span class="jsdoc-var">ar </span><span class="jsdoc-syntax">=  </span><span class="jsdoc-var">Date.formatParsed</span><span class="jsdoc-syntax">[</span><span class="jsdoc-var">format</span><span class="jsdoc-syntax">];
    </span><span class="jsdoc-keyword">for</span><span class="jsdoc-syntax">(</span><span class="jsdoc-keyword">var </span><span class="jsdoc-var">i </span><span class="jsdoc-syntax">=0; </span><span class="jsdoc-var">i </span><span class="jsdoc-syntax">&lt;</span><span class="jsdoc-var">ar.length</span><span class="jsdoc-syntax">; </span><span class="jsdoc-var">i</span><span class="jsdoc-syntax">++) {
        </span><span class="jsdoc-keyword">var </span><span class="jsdoc-var">c </span><span class="jsdoc-syntax">= </span><span class="jsdoc-var">ar</span><span class="jsdoc-syntax">[</span><span class="jsdoc-var">i</span><span class="jsdoc-syntax">];

      </span><span class="jsdoc-keyword">if </span><span class="jsdoc-syntax">(</span><span class="jsdoc-keyword">typeof</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">c</span><span class="jsdoc-syntax">) != </span><span class="jsdoc-string">'string'</span><span class="jsdoc-syntax">) {
        </span><span class="jsdoc-var">ret </span><span class="jsdoc-syntax">+= </span><span class="jsdoc-var">c</span><span class="jsdoc-syntax">[0];
        </span><span class="jsdoc-keyword">continue</span><span class="jsdoc-syntax">;
      }
      </span><span class="jsdoc-var">ret </span><span class="jsdoc-syntax">+= </span><span class="jsdoc-var">this.formatCodeToValue</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">c</span><span class="jsdoc-syntax">);
    }
    </span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">ret</span><span class="jsdoc-syntax">;

};
</span><span class="jsdoc-comment">// fixme need to implement this really - as the eval replacement.
</span><span class="jsdoc-var">Date.prototype.formatCodeToValue </span><span class="jsdoc-syntax">= </span><span class="jsdoc-keyword">function</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">character</span><span class="jsdoc-syntax">) {
    </span><span class="jsdoc-keyword">switch </span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">character</span><span class="jsdoc-syntax">) {
    </span><span class="jsdoc-keyword">case </span><span class="jsdoc-string">&quot;d&quot;</span><span class="jsdoc-syntax">:
        </span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">String.leftPad</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">this.getDate</span><span class="jsdoc-syntax">(), 2, </span><span class="jsdoc-string">'0'</span><span class="jsdoc-syntax">);
    </span><span class="jsdoc-keyword">case </span><span class="jsdoc-string">&quot;D&quot;</span><span class="jsdoc-syntax">:
        </span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">Date.dayNames</span><span class="jsdoc-syntax">[</span><span class="jsdoc-var">this.getDay</span><span class="jsdoc-syntax">()]</span><span class="jsdoc-var">.substring</span><span class="jsdoc-syntax">(0, 3);
    </span><span class="jsdoc-keyword">case </span><span class="jsdoc-string">&quot;j&quot;</span><span class="jsdoc-syntax">:
        </span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">this.getDate</span><span class="jsdoc-syntax">();
    </span><span class="jsdoc-keyword">case </span><span class="jsdoc-string">&quot;l&quot;</span><span class="jsdoc-syntax">:
        </span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">Date.dayNames</span><span class="jsdoc-syntax">[</span><span class="jsdoc-var">this.getDay</span><span class="jsdoc-syntax">()];
    </span><span class="jsdoc-keyword">case </span><span class="jsdoc-string">&quot;S&quot;</span><span class="jsdoc-syntax">:
        </span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">this.getSuffix</span><span class="jsdoc-syntax">();
    </span><span class="jsdoc-keyword">case </span><span class="jsdoc-string">&quot;w&quot;</span><span class="jsdoc-syntax">:
        </span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">this.getDay</span><span class="jsdoc-syntax">();
    </span><span class="jsdoc-keyword">case </span><span class="jsdoc-string">&quot;z&quot;</span><span class="jsdoc-syntax">:
        </span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">this.getDayOfYear</span><span class="jsdoc-syntax">();
    </span><span class="jsdoc-keyword">case </span><span class="jsdoc-string">&quot;W&quot;</span><span class="jsdoc-syntax">:
        </span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">this.getWeekOfYear</span><span class="jsdoc-syntax">();
    </span><span class="jsdoc-keyword">case </span><span class="jsdoc-string">&quot;F&quot;</span><span class="jsdoc-syntax">:
        </span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">Date.monthNames</span><span class="jsdoc-syntax">[</span><span class="jsdoc-var">this.getMonth</span><span class="jsdoc-syntax">()];
    </span><span class="jsdoc-keyword">case </span><span class="jsdoc-string">&quot;m&quot;</span><span class="jsdoc-syntax">:
        </span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">String.leftPad</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">this.getMonth</span><span class="jsdoc-syntax">() + 1, 2, </span><span class="jsdoc-string">'0'</span><span class="jsdoc-syntax">);
    </span><span class="jsdoc-keyword">case </span><span class="jsdoc-string">&quot;M&quot;</span><span class="jsdoc-syntax">:
        </span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">Date.monthNames</span><span class="jsdoc-syntax">[</span><span class="jsdoc-var">this.getMonth</span><span class="jsdoc-syntax">()]</span><span class="jsdoc-var">.substring</span><span class="jsdoc-syntax">(0, 3);
    </span><span class="jsdoc-keyword">case </span><span class="jsdoc-string">&quot;n&quot;</span><span class="jsdoc-syntax">:
        </span><span class="jsdoc-keyword">return </span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">this.getMonth</span><span class="jsdoc-syntax">() + 1);
    </span><span class="jsdoc-keyword">case </span><span class="jsdoc-string">&quot;t&quot;</span><span class="jsdoc-syntax">:
        </span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">this.getDaysInMonth</span><span class="jsdoc-syntax">();
    </span><span class="jsdoc-keyword">case </span><span class="jsdoc-string">&quot;L&quot;</span><span class="jsdoc-syntax">:
        </span><span class="jsdoc-keyword">return </span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">this.isLeapYear</span><span class="jsdoc-syntax">() ? 1 : 0);
    </span><span class="jsdoc-keyword">case </span><span class="jsdoc-string">&quot;Y&quot;</span><span class="jsdoc-syntax">:
        </span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">this.getFullYear</span><span class="jsdoc-syntax">();
    </span><span class="jsdoc-keyword">case </span><span class="jsdoc-string">&quot;y&quot;</span><span class="jsdoc-syntax">:
     </span><span class="jsdoc-var">Logger.log</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">this</span><span class="jsdoc-syntax">);
        </span><span class="jsdoc-keyword">return </span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">this.getFullYear</span><span class="jsdoc-syntax">()+ </span><span class="jsdoc-string">&quot;&quot;</span><span class="jsdoc-syntax">)</span><span class="jsdoc-var">.substring</span><span class="jsdoc-syntax">(2, 4) ;
    </span><span class="jsdoc-keyword">case </span><span class="jsdoc-string">&quot;a&quot;</span><span class="jsdoc-syntax">:
        </span><span class="jsdoc-keyword">return </span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">this.getHours</span><span class="jsdoc-syntax">() &lt; 12 ? </span><span class="jsdoc-string">'am' </span><span class="jsdoc-syntax">: </span><span class="jsdoc-string">'pm'</span><span class="jsdoc-syntax">) ;
    </span><span class="jsdoc-keyword">case </span><span class="jsdoc-string">&quot;A&quot;</span><span class="jsdoc-syntax">:
        </span><span class="jsdoc-keyword">return </span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">this.getHours</span><span class="jsdoc-syntax">() &lt; 12 ? </span><span class="jsdoc-string">'AM' </span><span class="jsdoc-syntax">: </span><span class="jsdoc-string">'PM'</span><span class="jsdoc-syntax">) ;
    </span><span class="jsdoc-keyword">case </span><span class="jsdoc-string">&quot;g&quot;</span><span class="jsdoc-syntax">:
        </span><span class="jsdoc-keyword">return </span><span class="jsdoc-syntax">((</span><span class="jsdoc-var">this.getHours</span><span class="jsdoc-syntax">() % 12) ? </span><span class="jsdoc-var">this.getHours</span><span class="jsdoc-syntax">() % 12 : 12);
    </span><span class="jsdoc-keyword">case </span><span class="jsdoc-string">&quot;G&quot;</span><span class="jsdoc-syntax">:
        </span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">this.getHours</span><span class="jsdoc-syntax">();
    </span><span class="jsdoc-keyword">case </span><span class="jsdoc-string">&quot;h&quot;</span><span class="jsdoc-syntax">:
        </span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">String.leftPad</span><span class="jsdoc-syntax">((</span><span class="jsdoc-var">this.getHours</span><span class="jsdoc-syntax">() % 12) ? </span><span class="jsdoc-var">this.getHours</span><span class="jsdoc-syntax">() % 12 : 12, 2, </span><span class="jsdoc-string">'0'</span><span class="jsdoc-syntax">);
    </span><span class="jsdoc-keyword">case </span><span class="jsdoc-string">&quot;H&quot;</span><span class="jsdoc-syntax">:
        </span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">String.leftPad</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">this.getHours</span><span class="jsdoc-syntax">(), 2, </span><span class="jsdoc-string">'0'</span><span class="jsdoc-syntax">);
    </span><span class="jsdoc-keyword">case </span><span class="jsdoc-string">&quot;i&quot;</span><span class="jsdoc-syntax">:
        </span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">String.leftPad</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">this.getMinutes</span><span class="jsdoc-syntax">(), 2, </span><span class="jsdoc-string">'0'</span><span class="jsdoc-syntax">);
    </span><span class="jsdoc-keyword">case </span><span class="jsdoc-string">&quot;s&quot;</span><span class="jsdoc-syntax">:
        </span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">String.leftPad</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">this.getSeconds</span><span class="jsdoc-syntax">(), 2, </span><span class="jsdoc-string">'0'</span><span class="jsdoc-syntax">);
    </span><span class="jsdoc-keyword">case </span><span class="jsdoc-string">&quot;O&quot;</span><span class="jsdoc-syntax">:
        </span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">this.getGMTOffset</span><span class="jsdoc-syntax">();
    </span><span class="jsdoc-keyword">case </span><span class="jsdoc-string">&quot;P&quot;</span><span class="jsdoc-syntax">:
    	</span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">this.getGMTColonOffset</span><span class="jsdoc-syntax">();
    </span><span class="jsdoc-keyword">case </span><span class="jsdoc-string">&quot;T&quot;</span><span class="jsdoc-syntax">:
        </span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">this.getTimezone</span><span class="jsdoc-syntax">();
    </span><span class="jsdoc-keyword">case </span><span class="jsdoc-string">&quot;Z&quot;</span><span class="jsdoc-syntax">:
        </span><span class="jsdoc-keyword">return </span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">this.getTimezoneOffset</span><span class="jsdoc-syntax">() * -60);
    </span><span class="jsdoc-keyword">default</span><span class="jsdoc-syntax">:
        </span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">String.escape</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">character</span><span class="jsdoc-syntax">);
    }
};

</span><span class="jsdoc-comment">/**
 * Formats a date given the supplied format string
 * @param {String} format The format string
 * @return {String} The formatted date
 * @method
 */
</span><span class="jsdoc-var">Date.prototype.format </span><span class="jsdoc-syntax">= </span><span class="jsdoc-var">Date.prototype.dateFormat</span><span class="jsdoc-syntax">;

</span><span class="jsdoc-comment">// private




/**
 * Parses the passed string using the specified format. Note that this function expects dates in normal calendar
 * format, meaning that months are 1-based (1 = January) and not zero-based like in JavaScript dates.  Any part of
 * the date format that is not specified will default to the current date value for that part.  Time parts can also
 * be specified, but default to 0.  Keep in mind that the input date string must precisely match the specified format
 * string or the parse operation will fail.
 * Example Usage:
&lt;pre&gt;&lt;code&gt;
//dt = Fri May 25 2007 (current date)
var dt = new Date();

//dt = Thu May 25 2006 (today's month/day in 2006)
dt = Date.parseDate(&quot;2006&quot;, &quot;Y&quot;);

//dt = Sun Jan 15 2006 (all date parts specified)
dt = Date.parseDate(&quot;2006-1-15&quot;, &quot;Y-m-d&quot;);

//dt = Sun Jan 15 2006 15:20:01 GMT-0600 (CST)
dt = Date.parseDate(&quot;2006-1-15 3:20:01 PM&quot;, &quot;Y-m-d h:i:s A&quot; );
&lt;/code&gt;&lt;/pre&gt;
 * @param {String} input The unparsed date as a string
 * @param {String} format The format the date is in
 * @return {Date} The parsed date
 * @static
 */


</span><span class="jsdoc-var">Date.parseDate </span><span class="jsdoc-syntax">= </span><span class="jsdoc-keyword">function</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">input</span><span class="jsdoc-syntax">, </span><span class="jsdoc-var">format</span><span class="jsdoc-syntax">) {
   </span><span class="jsdoc-comment">// Logger.log([ input, format ]);

    </span><span class="jsdoc-keyword">var </span><span class="jsdoc-var">out </span><span class="jsdoc-syntax">= {
		</span><span class="jsdoc-var">y </span><span class="jsdoc-syntax">: -1,
		</span><span class="jsdoc-var">m </span><span class="jsdoc-syntax">: -1,
		</span><span class="jsdoc-var">d </span><span class="jsdoc-syntax">: -1,
		</span><span class="jsdoc-var">h </span><span class="jsdoc-syntax">: -1,
		</span><span class="jsdoc-var">i </span><span class="jsdoc-syntax">: -1,
		</span><span class="jsdoc-var">s </span><span class="jsdoc-syntax">: -1,
		</span><span class="jsdoc-var">o </span><span class="jsdoc-syntax">: </span><span class="jsdoc-keyword">false</span><span class="jsdoc-syntax">,
		</span><span class="jsdoc-var">z </span><span class="jsdoc-syntax">: </span><span class="jsdoc-keyword">false</span><span class="jsdoc-syntax">,

	};
	</span><span class="jsdoc-keyword">var </span><span class="jsdoc-var">v</span><span class="jsdoc-syntax">;
    </span><span class="jsdoc-keyword">var </span><span class="jsdoc-var">d </span><span class="jsdoc-syntax">= </span><span class="jsdoc-keyword">new </span><span class="jsdoc-var">Date</span><span class="jsdoc-syntax">();
    </span><span class="jsdoc-var">out.y </span><span class="jsdoc-syntax">= </span><span class="jsdoc-var">d.getFullYear</span><span class="jsdoc-syntax">();
    </span><span class="jsdoc-var">out.m </span><span class="jsdoc-syntax">= </span><span class="jsdoc-var">d.getMonth</span><span class="jsdoc-syntax">();
    </span><span class="jsdoc-var">out.d </span><span class="jsdoc-syntax">= </span><span class="jsdoc-var">d.getDate</span><span class="jsdoc-syntax">();
    </span><span class="jsdoc-keyword">if </span><span class="jsdoc-syntax">(</span><span class="jsdoc-keyword">typeof</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">input</span><span class="jsdoc-syntax">) !== </span><span class="jsdoc-string">'string'</span><span class="jsdoc-syntax">) {
		</span><span class="jsdoc-var">input </span><span class="jsdoc-syntax">= </span><span class="jsdoc-var">input.toString</span><span class="jsdoc-syntax">();
	}
    </span><span class="jsdoc-keyword">if </span><span class="jsdoc-syntax">(</span><span class="jsdoc-keyword">typeof</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">Date.parseFuncData</span><span class="jsdoc-syntax">[</span><span class="jsdoc-var">format</span><span class="jsdoc-syntax">]) == </span><span class="jsdoc-string">'undefined'</span><span class="jsdoc-syntax">) {


		</span><span class="jsdoc-keyword">var </span><span class="jsdoc-var">regex </span><span class="jsdoc-syntax">= </span><span class="jsdoc-string">&quot;&quot;</span><span class="jsdoc-syntax">;
		</span><span class="jsdoc-keyword">var </span><span class="jsdoc-var">funcs </span><span class="jsdoc-syntax">= [];

		</span><span class="jsdoc-keyword">var </span><span class="jsdoc-var">special </span><span class="jsdoc-syntax">= </span><span class="jsdoc-keyword">false</span><span class="jsdoc-syntax">;
		</span><span class="jsdoc-keyword">var </span><span class="jsdoc-var">ch </span><span class="jsdoc-syntax">= </span><span class="jsdoc-string">''</span><span class="jsdoc-syntax">;
		</span><span class="jsdoc-keyword">for </span><span class="jsdoc-syntax">(</span><span class="jsdoc-keyword">var </span><span class="jsdoc-var">i </span><span class="jsdoc-syntax">= 0; </span><span class="jsdoc-var">i </span><span class="jsdoc-syntax">&lt; </span><span class="jsdoc-var">format.length</span><span class="jsdoc-syntax">; ++</span><span class="jsdoc-var">i</span><span class="jsdoc-syntax">) {
			</span><span class="jsdoc-var">ch </span><span class="jsdoc-syntax">= </span><span class="jsdoc-var">format.charAt</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">i</span><span class="jsdoc-syntax">);
			</span><span class="jsdoc-keyword">if </span><span class="jsdoc-syntax">(!</span><span class="jsdoc-var">special </span><span class="jsdoc-syntax">&amp;&amp; </span><span class="jsdoc-var">ch </span><span class="jsdoc-syntax">== </span><span class="jsdoc-string">&quot;\\&quot;</span><span class="jsdoc-syntax">) {
				</span><span class="jsdoc-var">special </span><span class="jsdoc-syntax">= </span><span class="jsdoc-keyword">true</span><span class="jsdoc-syntax">;
			}
			</span><span class="jsdoc-keyword">else if </span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">special</span><span class="jsdoc-syntax">) {
				</span><span class="jsdoc-var">special </span><span class="jsdoc-syntax">= </span><span class="jsdoc-keyword">false</span><span class="jsdoc-syntax">;
				</span><span class="jsdoc-var">regex </span><span class="jsdoc-syntax">+= </span><span class="jsdoc-var">String.escape</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">ch</span><span class="jsdoc-syntax">);
 			}
			</span><span class="jsdoc-keyword">else </span><span class="jsdoc-syntax">{

				</span><span class="jsdoc-keyword">var </span><span class="jsdoc-var">obj </span><span class="jsdoc-syntax">= </span><span class="jsdoc-var">Date.formatCodeToRegex</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">ch</span><span class="jsdoc-syntax">, 0);

				</span><span class="jsdoc-var">regex </span><span class="jsdoc-syntax">+= </span><span class="jsdoc-var">obj.s</span><span class="jsdoc-syntax">;
				</span><span class="jsdoc-keyword">if </span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">obj.f </span><span class="jsdoc-syntax">!== </span><span class="jsdoc-keyword">false</span><span class="jsdoc-syntax">) {
					</span><span class="jsdoc-var">funcs.push</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">obj.f</span><span class="jsdoc-syntax">);
				}
			}
		}
		</span><span class="jsdoc-var">Date.parseFuncData</span><span class="jsdoc-syntax">[</span><span class="jsdoc-var">format</span><span class="jsdoc-syntax">] = {
			</span><span class="jsdoc-var">f </span><span class="jsdoc-syntax">: </span><span class="jsdoc-var">funcs </span><span class="jsdoc-syntax">,
			</span><span class="jsdoc-var">re </span><span class="jsdoc-syntax">: </span><span class="jsdoc-keyword">new </span><span class="jsdoc-var">RegExp</span><span class="jsdoc-syntax">(</span><span class="jsdoc-string">&quot;^&quot; </span><span class="jsdoc-syntax">+ </span><span class="jsdoc-var">regex </span><span class="jsdoc-syntax">+ </span><span class="jsdoc-string">&quot;$&quot;</span><span class="jsdoc-syntax">)
		};

    </span><span class="jsdoc-comment">//Roo.log(Date.parseFuncData[format]);
   //  Logger.log( input );
	</span><span class="jsdoc-syntax">}
	</span><span class="jsdoc-var">input.replace</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">Date.parseFuncData</span><span class="jsdoc-syntax">[</span><span class="jsdoc-var">format</span><span class="jsdoc-syntax">]</span><span class="jsdoc-var">.re</span><span class="jsdoc-syntax">, </span><span class="jsdoc-keyword">function</span><span class="jsdoc-syntax">(   ) {

	   </span><span class="jsdoc-keyword">var </span><span class="jsdoc-var">results </span><span class="jsdoc-syntax">= </span><span class="jsdoc-var">arguments</span><span class="jsdoc-syntax">;
	   </span><span class="jsdoc-var">Date.parseFuncData</span><span class="jsdoc-syntax">[</span><span class="jsdoc-var">format</span><span class="jsdoc-syntax">]</span><span class="jsdoc-var">.f.forEach</span><span class="jsdoc-syntax">(</span><span class="jsdoc-keyword">function</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">v</span><span class="jsdoc-syntax">, </span><span class="jsdoc-var">i</span><span class="jsdoc-syntax">) {

		   </span><span class="jsdoc-var">v</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">results</span><span class="jsdoc-syntax">[</span><span class="jsdoc-var">i</span><span class="jsdoc-syntax">+1], </span><span class="jsdoc-var">out</span><span class="jsdoc-syntax">);

	   });

	});
	</span><span class="jsdoc-comment">//Logger.log(JSON.stringify(out));


    </span><span class="jsdoc-keyword">if </span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">out.y </span><span class="jsdoc-syntax">&gt;= 0 &amp;&amp; </span><span class="jsdoc-var">out.m </span><span class="jsdoc-syntax">&gt;= 0 &amp;&amp; </span><span class="jsdoc-var">out.d </span><span class="jsdoc-syntax">&gt; 0 &amp;&amp; </span><span class="jsdoc-var">out.h </span><span class="jsdoc-syntax">&gt;= 0 &amp;&amp; </span><span class="jsdoc-var">out.i </span><span class="jsdoc-syntax">&gt;= 0 &amp;&amp; </span><span class="jsdoc-var">out.s </span><span class="jsdoc-syntax">&gt;= 0) {
		</span><span class="jsdoc-var">v </span><span class="jsdoc-syntax">= </span><span class="jsdoc-keyword">new </span><span class="jsdoc-var">Date</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">out.y</span><span class="jsdoc-syntax">, </span><span class="jsdoc-var">out.m</span><span class="jsdoc-syntax">, </span><span class="jsdoc-var">out.d</span><span class="jsdoc-syntax">, </span><span class="jsdoc-var">out.h</span><span class="jsdoc-syntax">, </span><span class="jsdoc-var">out.i</span><span class="jsdoc-syntax">, </span><span class="jsdoc-var">out.s</span><span class="jsdoc-syntax">);
		</span><span class="jsdoc-var">v.setFullYear</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">out.y</span><span class="jsdoc-syntax">);
	} </span><span class="jsdoc-keyword">else if </span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">out.y </span><span class="jsdoc-syntax">&gt;= 0 &amp;&amp; </span><span class="jsdoc-var">out.m </span><span class="jsdoc-syntax">&gt;= 0 &amp;&amp; </span><span class="jsdoc-var">out.d </span><span class="jsdoc-syntax">&gt; 0 &amp;&amp; </span><span class="jsdoc-var">out.h </span><span class="jsdoc-syntax">&gt;= 0 &amp;&amp; </span><span class="jsdoc-var">out.i </span><span class="jsdoc-syntax">&gt;= 0)  {
		</span><span class="jsdoc-var">v </span><span class="jsdoc-syntax">= </span><span class="jsdoc-keyword">new </span><span class="jsdoc-var">Date</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">out.y</span><span class="jsdoc-syntax">, </span><span class="jsdoc-var">out.m</span><span class="jsdoc-syntax">, </span><span class="jsdoc-var">out.d</span><span class="jsdoc-syntax">, </span><span class="jsdoc-var">out.h</span><span class="jsdoc-syntax">, </span><span class="jsdoc-var">out.i</span><span class="jsdoc-syntax">);
		</span><span class="jsdoc-var">v.setFullYear</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">out.y</span><span class="jsdoc-syntax">);
	} </span><span class="jsdoc-keyword">else if </span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">out.y </span><span class="jsdoc-syntax">&gt;= 0 &amp;&amp; </span><span class="jsdoc-var">out.m </span><span class="jsdoc-syntax">&gt;= 0 &amp;&amp; </span><span class="jsdoc-var">out.d </span><span class="jsdoc-syntax">&gt; 0 &amp;&amp; </span><span class="jsdoc-var">out.h </span><span class="jsdoc-syntax">&gt;= 0) {
		</span><span class="jsdoc-var">v </span><span class="jsdoc-syntax">= </span><span class="jsdoc-keyword">new </span><span class="jsdoc-var">Date</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">out.y</span><span class="jsdoc-syntax">, </span><span class="jsdoc-var">out.m</span><span class="jsdoc-syntax">, </span><span class="jsdoc-var">out.d</span><span class="jsdoc-syntax">, </span><span class="jsdoc-var">out.h</span><span class="jsdoc-syntax">);
		</span><span class="jsdoc-var">v.setFullYear</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">out.y</span><span class="jsdoc-syntax">);
	}</span><span class="jsdoc-keyword">else if </span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">out.y </span><span class="jsdoc-syntax">&gt;= 0 &amp;&amp; </span><span class="jsdoc-var">out.m </span><span class="jsdoc-syntax">&gt;= 0 &amp;&amp; </span><span class="jsdoc-var">out.d </span><span class="jsdoc-syntax">&gt; 0) {
		</span><span class="jsdoc-var">v </span><span class="jsdoc-syntax">= </span><span class="jsdoc-keyword">new </span><span class="jsdoc-var">Date</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">out.y</span><span class="jsdoc-syntax">, </span><span class="jsdoc-var">out.m</span><span class="jsdoc-syntax">, </span><span class="jsdoc-var">out.d</span><span class="jsdoc-syntax">);
		</span><span class="jsdoc-var">v.setFullYear</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">out.y</span><span class="jsdoc-syntax">);
	} </span><span class="jsdoc-keyword">else if </span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">out.y </span><span class="jsdoc-syntax">&gt;= 0 &amp;&amp; </span><span class="jsdoc-var">out.m </span><span class="jsdoc-syntax">&gt;= 0) {
		</span><span class="jsdoc-var">v </span><span class="jsdoc-syntax">= </span><span class="jsdoc-keyword">new </span><span class="jsdoc-var">Date</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">out.y</span><span class="jsdoc-syntax">, </span><span class="jsdoc-var">out.m</span><span class="jsdoc-syntax">);
		</span><span class="jsdoc-var">v.setFullYear</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">out.y</span><span class="jsdoc-syntax">);
	} </span><span class="jsdoc-keyword">else if </span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">out.y </span><span class="jsdoc-syntax">&gt;= 0) {
		</span><span class="jsdoc-var">v </span><span class="jsdoc-syntax">= </span><span class="jsdoc-keyword">new </span><span class="jsdoc-var">Date</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">out.y</span><span class="jsdoc-syntax">);
		</span><span class="jsdoc-var">v.setFullYear</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">out.y</span><span class="jsdoc-syntax">);
	}

	</span><span class="jsdoc-keyword">if </span><span class="jsdoc-syntax">(!</span><span class="jsdoc-var">v </span><span class="jsdoc-syntax">|| (</span><span class="jsdoc-var">out.z </span><span class="jsdoc-syntax">=== </span><span class="jsdoc-keyword">false </span><span class="jsdoc-syntax">&amp;&amp; </span><span class="jsdoc-var">out.o </span><span class="jsdoc-syntax">=== </span><span class="jsdoc-keyword">false</span><span class="jsdoc-syntax">)) {
	  </span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">v</span><span class="jsdoc-syntax">;
	}
	</span><span class="jsdoc-keyword">if </span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">out.z </span><span class="jsdoc-syntax">!== </span><span class="jsdoc-keyword">false</span><span class="jsdoc-syntax">) {
		</span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">v.add</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">Date.SECOND</span><span class="jsdoc-syntax">, (</span><span class="jsdoc-var">v.getTimezoneOffset</span><span class="jsdoc-syntax">() * 60) + (</span><span class="jsdoc-var">out.z</span><span class="jsdoc-syntax">*1));
	}
	</span><span class="jsdoc-comment">// out.o
	</span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">v.add</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">Date.HOUR</span><span class="jsdoc-syntax">, (</span><span class="jsdoc-var">v.getGMTOffset</span><span class="jsdoc-syntax">() / 100) + (</span><span class="jsdoc-var">out.o </span><span class="jsdoc-syntax">/ -100))  ; </span><span class="jsdoc-comment">// reset to GMT, then add offset


</span><span class="jsdoc-syntax">};
</span><span class="jsdoc-var">Date.parseFuncData </span><span class="jsdoc-syntax">= {};

</span><span class="jsdoc-comment">/**
 * Get the timezone abbreviation of the current date (equivalent to the format specifier 'T').
 * @return {String} The abbreviated timezone name (e.g. 'CST')
 */
</span><span class="jsdoc-var">Date.prototype.getTimezone </span><span class="jsdoc-syntax">= </span><span class="jsdoc-keyword">function</span><span class="jsdoc-syntax">() {
    </span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">this.toString</span><span class="jsdoc-syntax">()</span><span class="jsdoc-var">.replace</span><span class="jsdoc-syntax">(/^.*? ([A-Z]{1,4})[\-+][0-9]{4} .*$/, </span><span class="jsdoc-string">&quot;$1&quot;</span><span class="jsdoc-syntax">);
};

</span><span class="jsdoc-comment">/**
 * Get the offset from GMT of the current date (equivalent to the format specifier 'O').
 * @return {String} The 4-character offset string prefixed with + or - (e.g. '-0600')
 */
</span><span class="jsdoc-var">Date.prototype.getGMTOffset </span><span class="jsdoc-syntax">= </span><span class="jsdoc-keyword">function</span><span class="jsdoc-syntax">() {
    </span><span class="jsdoc-keyword">return </span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">this.getTimezoneOffset</span><span class="jsdoc-syntax">() &gt; 0 ? </span><span class="jsdoc-string">&quot;-&quot; </span><span class="jsdoc-syntax">: </span><span class="jsdoc-string">&quot;+&quot;</span><span class="jsdoc-syntax">)
        + </span><span class="jsdoc-var">String.leftPad</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">Math.abs</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">Math.floor</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">this.getTimezoneOffset</span><span class="jsdoc-syntax">() / 60)), 2, </span><span class="jsdoc-string">&quot;0&quot;</span><span class="jsdoc-syntax">)
        + </span><span class="jsdoc-var">String.leftPad</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">this.getTimezoneOffset</span><span class="jsdoc-syntax">() % 60, 2, </span><span class="jsdoc-string">&quot;0&quot;</span><span class="jsdoc-syntax">);
};

</span><span class="jsdoc-comment">/**
 * Get the offset from GMT of the current date (equivalent to the format specifier 'P').
 * @return {String} 2-characters representing hours and 2-characters representing minutes
 * seperated by a colon and prefixed with + or - (e.g. '-06:00')
 */
</span><span class="jsdoc-var">Date.prototype.getGMTColonOffset </span><span class="jsdoc-syntax">= </span><span class="jsdoc-keyword">function</span><span class="jsdoc-syntax">() {
	</span><span class="jsdoc-keyword">return </span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">this.getTimezoneOffset</span><span class="jsdoc-syntax">() &gt; 0 ? </span><span class="jsdoc-string">&quot;-&quot; </span><span class="jsdoc-syntax">: </span><span class="jsdoc-string">&quot;+&quot;</span><span class="jsdoc-syntax">)
		+ </span><span class="jsdoc-var">String.leftPad</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">Math.abs</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">Math.floor</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">this.getTimezoneOffset</span><span class="jsdoc-syntax">() / 60)), 2, </span><span class="jsdoc-string">&quot;0&quot;</span><span class="jsdoc-syntax">)
		+ </span><span class="jsdoc-string">&quot;:&quot;
		</span><span class="jsdoc-syntax">+ </span><span class="jsdoc-var">String.leftPad</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">this.getTimezoneOffset</span><span class="jsdoc-syntax">() %60, 2, </span><span class="jsdoc-string">&quot;0&quot;</span><span class="jsdoc-syntax">);
}

</span><span class="jsdoc-comment">/**
 * Get the numeric day number of the year, adjusted for leap year.
 * @return {Number} 0 through 364 (365 in leap years)
 */
</span><span class="jsdoc-var">Date.prototype.getDayOfYear </span><span class="jsdoc-syntax">= </span><span class="jsdoc-keyword">function</span><span class="jsdoc-syntax">() {
    </span><span class="jsdoc-keyword">var </span><span class="jsdoc-var">num </span><span class="jsdoc-syntax">= 0;
    </span><span class="jsdoc-var">Date.daysInMonth</span><span class="jsdoc-syntax">[1] = </span><span class="jsdoc-var">this.isLeapYear</span><span class="jsdoc-syntax">() ? 29 : 28;
    </span><span class="jsdoc-keyword">for </span><span class="jsdoc-syntax">(</span><span class="jsdoc-keyword">var </span><span class="jsdoc-var">i </span><span class="jsdoc-syntax">= 0; </span><span class="jsdoc-var">i </span><span class="jsdoc-syntax">&lt; </span><span class="jsdoc-var">this.getMonth</span><span class="jsdoc-syntax">(); ++</span><span class="jsdoc-var">i</span><span class="jsdoc-syntax">) {
        </span><span class="jsdoc-var">num </span><span class="jsdoc-syntax">+= </span><span class="jsdoc-var">Date.daysInMonth</span><span class="jsdoc-syntax">[</span><span class="jsdoc-var">i</span><span class="jsdoc-syntax">];
    }
    </span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">num </span><span class="jsdoc-syntax">+ </span><span class="jsdoc-var">this.getDate</span><span class="jsdoc-syntax">() - 1;
};

</span><span class="jsdoc-comment">/**
 * Get the string representation of the numeric week number of the year
 * (equivalent to the format specifier 'W').
 * @return {String} '00' through '52'
 */
</span><span class="jsdoc-var">Date.prototype.getWeekOfYear </span><span class="jsdoc-syntax">= </span><span class="jsdoc-keyword">function</span><span class="jsdoc-syntax">() {
    </span><span class="jsdoc-comment">// Skip to Thursday of this week
    </span><span class="jsdoc-keyword">var </span><span class="jsdoc-var">now </span><span class="jsdoc-syntax">= </span><span class="jsdoc-var">this.getDayOfYear</span><span class="jsdoc-syntax">() + (4 - </span><span class="jsdoc-var">this.getDay</span><span class="jsdoc-syntax">());
    </span><span class="jsdoc-comment">// Find the first Thursday of the year
    </span><span class="jsdoc-keyword">var </span><span class="jsdoc-var">jan1 </span><span class="jsdoc-syntax">= </span><span class="jsdoc-keyword">new </span><span class="jsdoc-var">Date</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">this.getFullYear</span><span class="jsdoc-syntax">(), 0, 1);
    </span><span class="jsdoc-keyword">var </span><span class="jsdoc-var">then </span><span class="jsdoc-syntax">= (7 - </span><span class="jsdoc-var">jan1.getDay</span><span class="jsdoc-syntax">() + 4);
    </span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">String.leftPad</span><span class="jsdoc-syntax">(((</span><span class="jsdoc-var">now </span><span class="jsdoc-syntax">- </span><span class="jsdoc-var">then</span><span class="jsdoc-syntax">) / 7) + 1, 2, </span><span class="jsdoc-string">&quot;0&quot;</span><span class="jsdoc-syntax">);
};

</span><span class="jsdoc-comment">/**
 * Whether or not the current date is in a leap year.
 * @return {Boolean} True if the current date is in a leap year, else false
 */
</span><span class="jsdoc-var">Date.prototype.isLeapYear </span><span class="jsdoc-syntax">= </span><span class="jsdoc-keyword">function</span><span class="jsdoc-syntax">() {
    </span><span class="jsdoc-keyword">var </span><span class="jsdoc-var">year </span><span class="jsdoc-syntax">= </span><span class="jsdoc-var">this.getFullYear</span><span class="jsdoc-syntax">();
    </span><span class="jsdoc-keyword">return </span><span class="jsdoc-syntax">((</span><span class="jsdoc-var">year </span><span class="jsdoc-syntax">&amp; 3) == 0 &amp;&amp; (</span><span class="jsdoc-var">year </span><span class="jsdoc-syntax">% 100 || (</span><span class="jsdoc-var">year </span><span class="jsdoc-syntax">% 400 == 0 &amp;&amp; </span><span class="jsdoc-var">year</span><span class="jsdoc-syntax">)));
};

</span><span class="jsdoc-comment">/**
 * Get the first day of the current month, adjusted for leap year.  The returned value
 * is the numeric day index within the week (0-6) which can be used in conjunction with
 * the {@link #monthNames} array to retrieve the textual day name.
 * Example:
 *&lt;pre&gt;&lt;code&gt;
var dt = new Date('1/10/2007');
document.write(Date.dayNames[dt.getFirstDayOfMonth()]); //output: 'Monday'
&lt;/code&gt;&lt;/pre&gt;
 * @return {Number} The day number (0-6)
 */
</span><span class="jsdoc-var">Date.prototype.getFirstDayOfMonth </span><span class="jsdoc-syntax">= </span><span class="jsdoc-keyword">function</span><span class="jsdoc-syntax">() {
    </span><span class="jsdoc-keyword">var </span><span class="jsdoc-var">day </span><span class="jsdoc-syntax">= (</span><span class="jsdoc-var">this.getDay</span><span class="jsdoc-syntax">() - (</span><span class="jsdoc-var">this.getDate</span><span class="jsdoc-syntax">() - 1)) % 7;
    </span><span class="jsdoc-keyword">return </span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">day </span><span class="jsdoc-syntax">&lt; 0) ? (</span><span class="jsdoc-var">day </span><span class="jsdoc-syntax">+ 7) : </span><span class="jsdoc-var">day</span><span class="jsdoc-syntax">;
};

</span><span class="jsdoc-comment">/**
 * Get the last day of the current month, adjusted for leap year.  The returned value
 * is the numeric day index within the week (0-6) which can be used in conjunction with
 * the {@link #monthNames} array to retrieve the textual day name.
 * Example:
 *&lt;pre&gt;&lt;code&gt;
var dt = new Date('1/10/2007');
document.write(Date.dayNames[dt.getLastDayOfMonth()]); //output: 'Wednesday'
&lt;/code&gt;&lt;/pre&gt;
 * @return {Number} The day number (0-6)
 */
</span><span class="jsdoc-var">Date.prototype.getLastDayOfMonth </span><span class="jsdoc-syntax">= </span><span class="jsdoc-keyword">function</span><span class="jsdoc-syntax">() {
    </span><span class="jsdoc-keyword">var </span><span class="jsdoc-var">day </span><span class="jsdoc-syntax">= (</span><span class="jsdoc-var">this.getDay</span><span class="jsdoc-syntax">() + (</span><span class="jsdoc-var">Date.daysInMonth</span><span class="jsdoc-syntax">[</span><span class="jsdoc-var">this.getMonth</span><span class="jsdoc-syntax">()] - </span><span class="jsdoc-var">this.getDate</span><span class="jsdoc-syntax">())) % 7;
    </span><span class="jsdoc-keyword">return </span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">day </span><span class="jsdoc-syntax">&lt; 0) ? (</span><span class="jsdoc-var">day </span><span class="jsdoc-syntax">+ 7) : </span><span class="jsdoc-var">day</span><span class="jsdoc-syntax">;
};


</span><span class="jsdoc-comment">/**
 * Get the first date of this date's month
 * @return {Date}
 */
</span><span class="jsdoc-var">Date.prototype.getFirstDateOfMonth </span><span class="jsdoc-syntax">= </span><span class="jsdoc-keyword">function</span><span class="jsdoc-syntax">() {
    </span><span class="jsdoc-keyword">return new </span><span class="jsdoc-var">Date</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">this.getFullYear</span><span class="jsdoc-syntax">(), </span><span class="jsdoc-var">this.getMonth</span><span class="jsdoc-syntax">(), 1);
};

</span><span class="jsdoc-comment">/**
 * Get the last date of this date's month
 * @return {Date}
 */
</span><span class="jsdoc-var">Date.prototype.getLastDateOfMonth </span><span class="jsdoc-syntax">= </span><span class="jsdoc-keyword">function</span><span class="jsdoc-syntax">() {
    </span><span class="jsdoc-keyword">return new </span><span class="jsdoc-var">Date</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">this.getFullYear</span><span class="jsdoc-syntax">(), </span><span class="jsdoc-var">this.getMonth</span><span class="jsdoc-syntax">(), </span><span class="jsdoc-var">this.getDaysInMonth</span><span class="jsdoc-syntax">());
};
</span><span class="jsdoc-comment">/**
 * Get the number of days in the current month, adjusted for leap year.
 * @return {Number} The number of days in the month
 */
</span><span class="jsdoc-var">Date.prototype.getDaysInMonth </span><span class="jsdoc-syntax">= </span><span class="jsdoc-keyword">function</span><span class="jsdoc-syntax">() {
    </span><span class="jsdoc-var">Date.daysInMonth</span><span class="jsdoc-syntax">[1] = </span><span class="jsdoc-var">this.isLeapYear</span><span class="jsdoc-syntax">() ? 29 : 28;
    </span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">Date.daysInMonth</span><span class="jsdoc-syntax">[</span><span class="jsdoc-var">this.getMonth</span><span class="jsdoc-syntax">()];
};

</span><span class="jsdoc-comment">/**
 * Get the English ordinal suffix of the current day (equivalent to the format specifier 'S').
 * @return {String} 'st, 'nd', 'rd' or 'th'
 */
</span><span class="jsdoc-var">Date.prototype.getSuffix </span><span class="jsdoc-syntax">= </span><span class="jsdoc-keyword">function</span><span class="jsdoc-syntax">() {
    </span><span class="jsdoc-keyword">switch </span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">this.getDate</span><span class="jsdoc-syntax">()) {
        </span><span class="jsdoc-keyword">case </span><span class="jsdoc-syntax">1:
        </span><span class="jsdoc-keyword">case </span><span class="jsdoc-syntax">21:
        </span><span class="jsdoc-keyword">case </span><span class="jsdoc-syntax">31:
            </span><span class="jsdoc-keyword">return </span><span class="jsdoc-string">&quot;st&quot;</span><span class="jsdoc-syntax">;
        </span><span class="jsdoc-keyword">case </span><span class="jsdoc-syntax">2:
        </span><span class="jsdoc-keyword">case </span><span class="jsdoc-syntax">22:
            </span><span class="jsdoc-keyword">return </span><span class="jsdoc-string">&quot;nd&quot;</span><span class="jsdoc-syntax">;
        </span><span class="jsdoc-keyword">case </span><span class="jsdoc-syntax">3:
        </span><span class="jsdoc-keyword">case </span><span class="jsdoc-syntax">23:
            </span><span class="jsdoc-keyword">return </span><span class="jsdoc-string">&quot;rd&quot;</span><span class="jsdoc-syntax">;
        </span><span class="jsdoc-keyword">default</span><span class="jsdoc-syntax">:
            </span><span class="jsdoc-keyword">return </span><span class="jsdoc-string">&quot;th&quot;</span><span class="jsdoc-syntax">;
    }
};

</span><span class="jsdoc-comment">// private
</span><span class="jsdoc-var">Date.daysInMonth </span><span class="jsdoc-syntax">= [31,28,31,30,31,30,31,31,30,31,30,31];

</span><span class="jsdoc-comment">/**
 * An array of textual month names.
 * Override these values for international dates, for example...
 * Date.monthNames = ['JanInYourLang', 'FebInYourLang', ...];
 * @type Array
 * @static
 */
</span><span class="jsdoc-var">Date.monthNames </span><span class="jsdoc-syntax">=
   [</span><span class="jsdoc-string">&quot;January&quot;</span><span class="jsdoc-syntax">,
    </span><span class="jsdoc-string">&quot;February&quot;</span><span class="jsdoc-syntax">,
    </span><span class="jsdoc-string">&quot;March&quot;</span><span class="jsdoc-syntax">,
    </span><span class="jsdoc-string">&quot;April&quot;</span><span class="jsdoc-syntax">,
    </span><span class="jsdoc-string">&quot;May&quot;</span><span class="jsdoc-syntax">,
    </span><span class="jsdoc-string">&quot;June&quot;</span><span class="jsdoc-syntax">,
    </span><span class="jsdoc-string">&quot;July&quot;</span><span class="jsdoc-syntax">,
    </span><span class="jsdoc-string">&quot;August&quot;</span><span class="jsdoc-syntax">,
    </span><span class="jsdoc-string">&quot;September&quot;</span><span class="jsdoc-syntax">,
    </span><span class="jsdoc-string">&quot;October&quot;</span><span class="jsdoc-syntax">,
    </span><span class="jsdoc-string">&quot;November&quot;</span><span class="jsdoc-syntax">,
    </span><span class="jsdoc-string">&quot;December&quot;</span><span class="jsdoc-syntax">];

</span><span class="jsdoc-comment">/**
 * An array of textual day names.
 * Override these values for international dates, for example...
 * Date.dayNames = ['SundayInYourLang', 'MondayInYourLang', ...];
 * @type Array
 * @static
 */
</span><span class="jsdoc-var">Date.dayNames </span><span class="jsdoc-syntax">=
   [</span><span class="jsdoc-string">&quot;Sunday&quot;</span><span class="jsdoc-syntax">,
    </span><span class="jsdoc-string">&quot;Monday&quot;</span><span class="jsdoc-syntax">,
    </span><span class="jsdoc-string">&quot;Tuesday&quot;</span><span class="jsdoc-syntax">,
    </span><span class="jsdoc-string">&quot;Wednesday&quot;</span><span class="jsdoc-syntax">,
    </span><span class="jsdoc-string">&quot;Thursday&quot;</span><span class="jsdoc-syntax">,
    </span><span class="jsdoc-string">&quot;Friday&quot;</span><span class="jsdoc-syntax">,
    </span><span class="jsdoc-string">&quot;Saturday&quot;</span><span class="jsdoc-syntax">];

</span><span class="jsdoc-comment">// private
</span><span class="jsdoc-var">Date.y2kYear </span><span class="jsdoc-syntax">= 50;
</span><span class="jsdoc-comment">// private
</span><span class="jsdoc-var">Date.monthNumbers </span><span class="jsdoc-syntax">= {
    </span><span class="jsdoc-var">Jan</span><span class="jsdoc-syntax">:0,
    </span><span class="jsdoc-var">Feb</span><span class="jsdoc-syntax">:1,
    </span><span class="jsdoc-var">Mar</span><span class="jsdoc-syntax">:2,
    </span><span class="jsdoc-var">Apr</span><span class="jsdoc-syntax">:3,
    </span><span class="jsdoc-var">May</span><span class="jsdoc-syntax">:4,
    </span><span class="jsdoc-var">Jun</span><span class="jsdoc-syntax">:5,
    </span><span class="jsdoc-var">Jul</span><span class="jsdoc-syntax">:6,
    </span><span class="jsdoc-var">Aug</span><span class="jsdoc-syntax">:7,
    </span><span class="jsdoc-var">Sep</span><span class="jsdoc-syntax">:8,
    </span><span class="jsdoc-var">Oct</span><span class="jsdoc-syntax">:9,
    </span><span class="jsdoc-var">Nov</span><span class="jsdoc-syntax">:10,
    </span><span class="jsdoc-var">Dec</span><span class="jsdoc-syntax">:11};

</span><span class="jsdoc-comment">/**
 * Creates and returns a new Date instance with the exact same date value as the called instance.
 * Dates are copied and passed by reference, so if a copied date variable is modified later, the original
 * variable will also be changed.  When the intention is to create a new variable that will not
 * modify the original instance, you should create a clone.
 *
 * Example of correctly cloning a date:
 * &lt;pre&gt;&lt;code&gt;
//wrong way:
var orig = new Date('10/1/2006');
var copy = orig;
copy.setDate(5);
document.write(orig);  //returns 'Thu Oct 05 2006'!

//correct way:
var orig = new Date('10/1/2006');
var copy = orig.clone();
copy.setDate(5);
document.write(orig);  //returns 'Thu Oct 01 2006'
&lt;/code&gt;&lt;/pre&gt;
 * @return {Date} The new Date instance
 */
</span><span class="jsdoc-var">Date.prototype.clone </span><span class="jsdoc-syntax">= </span><span class="jsdoc-keyword">function</span><span class="jsdoc-syntax">() {
	</span><span class="jsdoc-keyword">return new </span><span class="jsdoc-var">Date</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">this.getTime</span><span class="jsdoc-syntax">());
};

</span><span class="jsdoc-comment">/**
 * Clears any time information from this date
 @param {Boolean} clone true to create a clone of this date, clear the time and return it
 @return {Date} this or the clone
 */
</span><span class="jsdoc-var">Date.prototype.clearTime </span><span class="jsdoc-syntax">= </span><span class="jsdoc-keyword">function</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">clone</span><span class="jsdoc-syntax">){
    </span><span class="jsdoc-keyword">if</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">clone</span><span class="jsdoc-syntax">){
        </span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">this.clone</span><span class="jsdoc-syntax">()</span><span class="jsdoc-var">.clearTime</span><span class="jsdoc-syntax">();
    }
    </span><span class="jsdoc-var">this.setHours</span><span class="jsdoc-syntax">(0);
    </span><span class="jsdoc-var">this.setMinutes</span><span class="jsdoc-syntax">(0);
    </span><span class="jsdoc-var">this.setSeconds</span><span class="jsdoc-syntax">(0);
    </span><span class="jsdoc-var">this.setMilliseconds</span><span class="jsdoc-syntax">(0);
    </span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">this</span><span class="jsdoc-syntax">;
};

</span><span class="jsdoc-comment">// private
// safari setMonth is broken -- check that this is only donw once...
</span><span class="jsdoc-keyword">if</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">Roo.isSafari </span><span class="jsdoc-syntax">&amp;&amp; </span><span class="jsdoc-keyword">typeof</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">Date.brokenSetMonth</span><span class="jsdoc-syntax">) == </span><span class="jsdoc-string">'undefined'</span><span class="jsdoc-syntax">){
    </span><span class="jsdoc-var">Date.brokenSetMonth </span><span class="jsdoc-syntax">= </span><span class="jsdoc-var">Date.prototype.setMonth</span><span class="jsdoc-syntax">;
	</span><span class="jsdoc-var">Date.prototype.setMonth </span><span class="jsdoc-syntax">= </span><span class="jsdoc-keyword">function</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">num</span><span class="jsdoc-syntax">){
		</span><span class="jsdoc-keyword">if</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">num </span><span class="jsdoc-syntax">&lt;= -1){
			</span><span class="jsdoc-keyword">var </span><span class="jsdoc-var">n </span><span class="jsdoc-syntax">= </span><span class="jsdoc-var">Math.ceil</span><span class="jsdoc-syntax">(-</span><span class="jsdoc-var">num</span><span class="jsdoc-syntax">);
			</span><span class="jsdoc-keyword">var </span><span class="jsdoc-var">back_year </span><span class="jsdoc-syntax">= </span><span class="jsdoc-var">Math.ceil</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">n</span><span class="jsdoc-syntax">/12);
			</span><span class="jsdoc-keyword">var </span><span class="jsdoc-var">month </span><span class="jsdoc-syntax">= (</span><span class="jsdoc-var">n </span><span class="jsdoc-syntax">% 12) ? 12 - </span><span class="jsdoc-var">n </span><span class="jsdoc-syntax">% 12 : 0 ;
			</span><span class="jsdoc-var">this.setFullYear</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">this.getFullYear</span><span class="jsdoc-syntax">() - </span><span class="jsdoc-var">back_year</span><span class="jsdoc-syntax">);
			</span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">Date.brokenSetMonth.call</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">this</span><span class="jsdoc-syntax">, </span><span class="jsdoc-var">month</span><span class="jsdoc-syntax">);
		} </span><span class="jsdoc-keyword">else </span><span class="jsdoc-syntax">{
			</span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">Date.brokenSetMonth.apply</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">this</span><span class="jsdoc-syntax">, </span><span class="jsdoc-var">arguments</span><span class="jsdoc-syntax">);
		}
	};
}

</span><span class="jsdoc-comment">/** Date interval constant 
* @static 
* @type String */
</span><span class="jsdoc-var">Date.MILLI </span><span class="jsdoc-syntax">= </span><span class="jsdoc-string">&quot;ms&quot;</span><span class="jsdoc-syntax">;
</span><span class="jsdoc-comment">/** Date interval constant 
* @static 
* @type String */
</span><span class="jsdoc-var">Date.SECOND </span><span class="jsdoc-syntax">= </span><span class="jsdoc-string">&quot;s&quot;</span><span class="jsdoc-syntax">;
</span><span class="jsdoc-comment">/** Date interval constant 
* @static 
* @type String */
</span><span class="jsdoc-var">Date.MINUTE </span><span class="jsdoc-syntax">= </span><span class="jsdoc-string">&quot;mi&quot;</span><span class="jsdoc-syntax">;
</span><span class="jsdoc-comment">/** Date interval constant 
* @static 
* @type String */
</span><span class="jsdoc-var">Date.HOUR </span><span class="jsdoc-syntax">= </span><span class="jsdoc-string">&quot;h&quot;</span><span class="jsdoc-syntax">;
</span><span class="jsdoc-comment">/** Date interval constant 
* @static 
* @type String */
</span><span class="jsdoc-var">Date.DAY </span><span class="jsdoc-syntax">= </span><span class="jsdoc-string">&quot;d&quot;</span><span class="jsdoc-syntax">;
</span><span class="jsdoc-comment">/** Date interval constant 
* @static 
* @type String */
</span><span class="jsdoc-var">Date.MONTH </span><span class="jsdoc-syntax">= </span><span class="jsdoc-string">&quot;mo&quot;</span><span class="jsdoc-syntax">;
</span><span class="jsdoc-comment">/** Date interval constant 
* @static 
* @type String */
</span><span class="jsdoc-var">Date.YEAR </span><span class="jsdoc-syntax">= </span><span class="jsdoc-string">&quot;y&quot;</span><span class="jsdoc-syntax">;

</span><span class="jsdoc-comment">/**
 * Provides a convenient method of performing basic date arithmetic.  This method
 * does not modify the Date instance being called - it creates and returns
 * a new Date instance containing the resulting date value.
 *
 * Examples:
 * &lt;pre&gt;&lt;code&gt;
//Basic usage:
var dt = new Date('10/29/2006').add(Date.DAY, 5);
document.write(dt); //returns 'Fri Oct 06 2006 00:00:00'

//Negative values will subtract correctly:
var dt2 = new Date('10/1/2006').add(Date.DAY, -5);
document.write(dt2); //returns 'Tue Sep 26 2006 00:00:00'

//You can even chain several calls together in one line!
var dt3 = new Date('10/1/2006').add(Date.DAY, 5).add(Date.HOUR, 8).add(Date.MINUTE, -30);
document.write(dt3); //returns 'Fri Oct 06 2006 07:30:00'
 &lt;/code&gt;&lt;/pre&gt;
 *
 * @param {String} interval   A valid date interval enum value
 * @param {Number} value      The amount to add to the current date
 * @return {Date} The new Date instance
 */
</span><span class="jsdoc-var">Date.prototype.add </span><span class="jsdoc-syntax">= </span><span class="jsdoc-keyword">function</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">interval</span><span class="jsdoc-syntax">, </span><span class="jsdoc-var">value</span><span class="jsdoc-syntax">){
  </span><span class="jsdoc-keyword">var </span><span class="jsdoc-var">d </span><span class="jsdoc-syntax">= </span><span class="jsdoc-var">this.clone</span><span class="jsdoc-syntax">();
  </span><span class="jsdoc-keyword">if </span><span class="jsdoc-syntax">(!</span><span class="jsdoc-var">interval </span><span class="jsdoc-syntax">|| </span><span class="jsdoc-var">value </span><span class="jsdoc-syntax">=== 0) { </span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">d</span><span class="jsdoc-syntax">; }
  </span><span class="jsdoc-keyword">switch</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">interval.toLowerCase</span><span class="jsdoc-syntax">()){
    </span><span class="jsdoc-keyword">case </span><span class="jsdoc-var">Date.MILLI</span><span class="jsdoc-syntax">:
      </span><span class="jsdoc-var">d.setMilliseconds</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">this.getMilliseconds</span><span class="jsdoc-syntax">() + </span><span class="jsdoc-var">value</span><span class="jsdoc-syntax">);
      </span><span class="jsdoc-keyword">break</span><span class="jsdoc-syntax">;
    </span><span class="jsdoc-keyword">case </span><span class="jsdoc-var">Date.SECOND</span><span class="jsdoc-syntax">:
      </span><span class="jsdoc-var">d.setSeconds</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">this.getSeconds</span><span class="jsdoc-syntax">() + </span><span class="jsdoc-var">value</span><span class="jsdoc-syntax">);
      </span><span class="jsdoc-keyword">break</span><span class="jsdoc-syntax">;
    </span><span class="jsdoc-keyword">case </span><span class="jsdoc-var">Date.MINUTE</span><span class="jsdoc-syntax">:
      </span><span class="jsdoc-var">d.setMinutes</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">this.getMinutes</span><span class="jsdoc-syntax">() + </span><span class="jsdoc-var">value</span><span class="jsdoc-syntax">);
      </span><span class="jsdoc-keyword">break</span><span class="jsdoc-syntax">;
    </span><span class="jsdoc-keyword">case </span><span class="jsdoc-var">Date.HOUR</span><span class="jsdoc-syntax">:
      </span><span class="jsdoc-var">d.setHours</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">this.getHours</span><span class="jsdoc-syntax">() + </span><span class="jsdoc-var">value</span><span class="jsdoc-syntax">);
      </span><span class="jsdoc-keyword">break</span><span class="jsdoc-syntax">;
    </span><span class="jsdoc-keyword">case </span><span class="jsdoc-var">Date.DAY</span><span class="jsdoc-syntax">:
      </span><span class="jsdoc-var">d.setDate</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">this.getDate</span><span class="jsdoc-syntax">() + </span><span class="jsdoc-var">value</span><span class="jsdoc-syntax">);
      </span><span class="jsdoc-keyword">break</span><span class="jsdoc-syntax">;
    </span><span class="jsdoc-keyword">case </span><span class="jsdoc-var">Date.MONTH</span><span class="jsdoc-syntax">:
      </span><span class="jsdoc-keyword">var </span><span class="jsdoc-var">day </span><span class="jsdoc-syntax">= </span><span class="jsdoc-var">this.getDate</span><span class="jsdoc-syntax">();
      </span><span class="jsdoc-keyword">if</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">day </span><span class="jsdoc-syntax">&gt; 28){
          </span><span class="jsdoc-var">day </span><span class="jsdoc-syntax">= </span><span class="jsdoc-var">Math.min</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">day</span><span class="jsdoc-syntax">, </span><span class="jsdoc-var">this.getFirstDateOfMonth</span><span class="jsdoc-syntax">()</span><span class="jsdoc-var">.add</span><span class="jsdoc-syntax">(</span><span class="jsdoc-string">'mo'</span><span class="jsdoc-syntax">, </span><span class="jsdoc-var">value</span><span class="jsdoc-syntax">)</span><span class="jsdoc-var">.getLastDateOfMonth</span><span class="jsdoc-syntax">()</span><span class="jsdoc-var">.getDate</span><span class="jsdoc-syntax">());
      }
      </span><span class="jsdoc-var">d.setDate</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">day</span><span class="jsdoc-syntax">);
      </span><span class="jsdoc-var">d.setMonth</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">this.getMonth</span><span class="jsdoc-syntax">() + </span><span class="jsdoc-var">value</span><span class="jsdoc-syntax">);
      </span><span class="jsdoc-keyword">break</span><span class="jsdoc-syntax">;
    </span><span class="jsdoc-keyword">case </span><span class="jsdoc-var">Date.YEAR</span><span class="jsdoc-syntax">:
      </span><span class="jsdoc-var">d.setFullYear</span><span class="jsdoc-syntax">(</span><span class="jsdoc-var">this.getFullYear</span><span class="jsdoc-syntax">() + </span><span class="jsdoc-var">value</span><span class="jsdoc-syntax">);
      </span><span class="jsdoc-keyword">break</span><span class="jsdoc-syntax">;
  }
  </span><span class="jsdoc-keyword">return </span><span class="jsdoc-var">d</span><span class="jsdoc-syntax">;
};
</span></code></body></html>